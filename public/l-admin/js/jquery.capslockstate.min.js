!function(n){var t="unknown",e={init:function(e){var a=(n.extend({},e),/MacPPC|MacIntel/.test(window.navigator.platform)===!0),o={isCapslockOn:function(n){var e=!1;n.shiftKey?e=n.shiftKey:n.modifiers&&(e=!!(4&n.modifiers));var o=String.fromCharCode(n.which);return o.toUpperCase()===o.toLowerCase()||(o.toUpperCase()===o?a===!0&&e||(t=!e):o.toLowerCase()===o&&(t=e)),t},isCapslockKey:function(n){var e=n.which;return 20===e&&"unknown"!==t&&(t=!t),t},hasStateChange:function(t,e){t!==e&&(n("body").trigger("capsChanged"),e===!0?n("body").trigger("capsOn"):e===!1?n("body").trigger("capsOff"):"unknown"===e&&n("body").trigger("capsUnknown"))}};return n("body").bind("keypress.capslockstate",function(n){var e=t;t=o.isCapslockOn(n),o.hasStateChange(e,t)}),n("body").bind("keydown.capslockstate",function(n){var e=t;t=o.isCapslockKey(n),o.hasStateChange(e,t)}),n(window).bind("focus.capslockstate",function(){var n=t;t="unknown",o.hasStateChange(n,t)}),o.hasStateChange(null,"unknown"),this.each(function(){})},state:function(){return t},destroy:function(){return this.each(function(){n("body").unbind(".capslockstate"),n(window).unbind(".capslockstate")})}};jQuery.fn.capslockstate=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void n.error("Method "+t+" does not exist on jQuery.capslockstate"):e.init.apply(this,arguments)}}(jQuery);