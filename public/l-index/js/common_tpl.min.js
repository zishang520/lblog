function focusEle(e){try{document.getElementById(e).focus()}catch(t){}}function updateEle(e,t){document.getElementById(e).innerHTML=t}function timestamp(){return(new Date).getTime()}function sendinfo(e,t){updateEle(t,'<div><span style="background-color:#FFFFE5; color:#666666;">加载中...</span></div>'),XMLHttp.sendReq("GET",e,"",function(e){updateEle(t,e.responseText)})}function loadr(e,t){e=e+"&stamp="+timestamp();var n=document.getElementById("r_"+t),o=document.getElementById("rp_"+t);"block"==n.style.display?(n.style.display="none",o.style.display="none"):(n.style.display="block",n.innerHTML='<span style="background-color:#FFFFE5;text-align:center;font-size:12px;color:#666666;">加载中...</span>',XMLHttp.sendReq("GET",e,"",function(e){n.innerHTML=e.responseText,o.style.display="block"}))}function reply(e,t){var n=document.getElementById("rtext_"+t).value,o=document.getElementById("rname_"+t).value,r=document.getElementById("rcode_"+t).value,a=document.getElementById("rmsg_"+t),d=document.getElementById("rn_"+t),l=document.getElementById("r_"+t),c="r="+n+"&rname="+o+"&rcode="+r+"&tid="+t;XMLHttp.sendReq("POST",e,c,function(e){"err1"==e.responseText?a.innerHTML="(回复长度需在140个字内)":"err2"==e.responseText?a.innerHTML="(昵称不能为空)":"err3"==e.responseText?a.innerHTML="(验证码错误)":"err4"==e.responseText?a.innerHTML="(不允许使用该昵称)":"err5"==e.responseText?a.innerHTML="(已存在该回复)":"err0"==e.responseText?a.innerHTML="(禁止回复)":"succ1"==e.responseText?a.innerHTML="(回复成功，等待管理员审核)":(l.innerHTML+=e.responseText,d.innerHTML=Number(d.innerHTML)+1,a.innerHTML="")})}function re(e,t){document.getElementById("rtext_"+e).value=t;focusEle("rtext_"+e)}function commentReply(e,t){var n=document.getElementById("respond");document.getElementById("comment-pid").value=e,document.getElementById("cancel-reply").style.display="",t.parentNode.appendChild(n)}function cancelReply(){var e=document.getElementById("comment-place"),t=document.getElementById("respond");document.getElementById("comment-pid").value=0,document.getElementById("cancel-reply").style.display="none",e.appendChild(t)}var XMLHttp={_objPool:[],_getInstance:function(){for(var e=0;e<this._objPool.length;e++)if(0==this._objPool[e].readyState||4==this._objPool[e].readyState)return this._objPool[e];return this._objPool[this._objPool.length]=this._createObj(),this._objPool[this._objPool.length-1]},_createObj:function(){if(window.XMLHttpRequest)var e=new XMLHttpRequest;else for(var t=["MSXML2.XMLHTTP.5.0","MSXML2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++)try{var e=new ActiveXObject(t[n]);break}catch(o){}return null==e.readyState&&(e.readyState=0,e.addEventListener("load",function(){e.readyState=4,"function"==typeof e.onreadystatechange&&e.onreadystatechange()},!1)),e},sendReq:function(method,url,data,callback){var objXMLHttp=this._getInstance();with(objXMLHttp)try{url+=url.indexOf("?")>0?"&randnum="+Math.random():"?randnum="+Math.random(),open(method,url,!0),setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),send(data),onreadystatechange=function(){4!=objXMLHttp.readyState||200!=objXMLHttp.status&&304!=objXMLHttp.status||callback(objXMLHttp)}}catch(e){alert("emria:error")}}};
/**
 * main.min.js
 */
jQuery(document).ready(function(o){NProgress.start(),o(".cd-popup-trigger").on("click",function(t){t.preventDefault(),o(".cd-popup").addClass("is-visible")}),o(".cd-popup").on("click",function(t){(o(t.target).is(".cd-popup-close")||o(t.target).is(".cd-popup"))&&(t.preventDefault(),o(this).removeClass("is-visible"))}),o(document).keyup(function(t){"27"==t.which&&o(".cd-popup").removeClass("is-visible")}),o("#back-to-top").hide(),o(function(){o(window).scroll(function(){o(window).scrollTop()>100?o("#back-to-top").fadeIn(1500):o("#back-to-top").fadeOut(1500)}),o(".totop").click(function(){return o("body,html").animate({scrollTop:0},1e3),!1})}),o(window).on("load",function(){NProgress.done()}),prettyPrint()});